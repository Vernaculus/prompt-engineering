# ============================================================
# PROMPT METADATA
# ============================================================
# prompt_id:       competency-matrix-az104
# version:         1.0.0
# status:          stable
# author:          [your name/handle]
# created:         2026-02-18
# last_modified:   2026-02-18
# changelog:
#   1.0.0 (2026-02-18) — Initial stable release. Official exam
#           objective ordering, full coverage requirements,
#           blueprint version declaration instruction, hybrid
#           identity and CLI/PowerShell coverage added,
#           software engineering metadata applied.
#
# ============================================================
# DEPENDENCIES
# ============================================================
# model_requirement: GPT-4 class or equivalent; 32k+ context
#                    window strongly recommended — full output
#                    is approximately 400–600 lines
# prompt_dependencies:
#   - extends output format of: competency-matrix-general v1.0.0
#   - outputs produced by this prompt are forward-compatible
#     with session header conventions in competency-matrix-general
# external_references:
#   - Microsoft AZ-104 exam skills outline (verify current version):
#     https://learn.microsoft.com/en-us/credentials/certifications/azure-administrator/
#
# ============================================================
# INPUT / OUTPUT CONTRACT
# ============================================================
# REQUIRED INPUTS: none — all parameters are hardcoded for AZ-104
#
# OPTIONAL INPUTS:
#   - learner_context: append prior experience note at bottom
#     of prompt before running (e.g., "I have strong Terraform
#     and Linux CLI experience; assign self-reported level 3 to
#     ARM/Bicep and flag for verification")
#
# EXPECTED OUTPUTS:
#   - A single az-104.md file containing:
#       1. YAML front matter with full AZ-104 skill hierarchy
#          organized by official exam objective order
#       2. Blueprint Reference section
#       3. Exam Domain Map (Markdown table, all 5 domains)
#       4. Competency Overview table (all skills at level 0)
#       5. Learning Progression Notes
#       6. Compact Session Header (paste-ready AI briefing block)
#       7. Session Log (table with one populated placeholder row)
#   - Approximate output size: 400–600 lines
#   - All skills default to level 0 unless learner_context
#     provides self-reported overrides
#
# KNOWN FAILURE MODES:
#   - Models may truncate output before completing Domain 4 or 5
#     due to response length limits — use "continue from where
#     you left off" follow-up if truncation occurs; do not restart
#   - Exam weights and objective names may be stale if model
#     training predates the latest Microsoft blueprint update —
#     blueprint_reference field and verification URL mitigate this
#   - Model may conflate AZ-104 objectives with AZ-900 or AZ-305
#     content — acceptance criteria checklist helps catch this
#
# ============================================================
# ACCEPTANCE CRITERIA (verify after each run)
# ============================================================
# [ ] YAML front matter opens and closes with --- delimiters
# [ ] cert_target is "AZ-104"
# [ ] matrix_version is "1.0.0"
# [ ] blueprint_reference field is populated (not left as placeholder)
# [ ] overall_level is 0.0 with user-managed comment
# [ ] All 5 official exam domains are present as top-level keys
# [ ] exam_weight is present on every domain key
# [ ] Every skill entry contains: label, level, notes, last_reviewed
# [ ] Rating scale comments are present in the YAML block
# [ ] Markdown body contains all 7 required sections
# [ ] Blueprint Reference section includes verification URL
# [ ] Compact Session Header is present and paste-ready
# [ ] Session Log row is populated (not fully blank)
# [ ] Azure CLI / PowerShell skills are present in Domain 1
# [ ] Hybrid identity (Entra Connect) skills are present in Domain 1
# [ ] AKS and ACI entries are present in Domain 3
# [ ] Network Watcher skills are present in Domain 4
# [ ] KQL basics are present in Domain 5
# [ ] Output contains no truncation indicators ("etc.", "and so on",
#     "...and more", or any implication items were omitted)
#
# ============================================================
# USAGE EXAMPLE
# ============================================================
# Invoke this prompt as-is for a clean baseline matrix (all zeros).
# To pre-populate self-reported levels, append before running:
#
#   ## Learner Context Override
#   I have strong Terraform/IaC and Linux CLI experience.
#   Assign self-reported level 3 to: ARM/Bicep deployment,
#   Azure CLI resource management. Flag all with verification note.
#
# ============================================================
# CONFIG
# ============================================================
# rating_scale:          dreyfus-0-5
# ordering:              official-exam-objectives
# granularity:           standard (Domain → Topic → Skill)
# require_completeness:  true   # no truncation permitted
# session_header:        true   # compact AI briefing block required
# overall_level_managed: user   # model must NOT calculate this
# blueprint_citation:    required  # model must state version/date
# ============================================================

You are a cloud certification learning architect with deep expertise in Microsoft Azure and the AZ-104: Microsoft Azure Administrator exam. Generate a complete competency matrix for AZ-104 exam preparation using the format and specifications below.

--- ORDERING ---
Organize all domains and skills strictly following the official Microsoft AZ-104 exam objectives order as published in the official exam skills outline. Do not reorder for learning progression. The official domain sequence is:
  1. Manage Azure identities and governance (20–25%)
  2. Implement and manage storage (15–20%)
  3. Deploy and manage Azure compute resources (20–25%)
  4. Implement and manage virtual networking (15–20%)
  5. Monitor and maintain Azure resources (10–15%)

Within each domain, follow the order of sub-objectives as listed in the official Microsoft exam skills outline. In the Learning Progression Notes section of the Markdown body, you may note cases where the official order creates prerequisite gaps and suggest supplemental reading order — but the matrix itself must follow official objective order.

--- IMPORTANT ACCURACY INSTRUCTION ---
You must state explicitly in the blueprint_reference YAML field and in the Blueprint Reference Markdown section which version or publication date of the Microsoft AZ-104 exam skills outline you are referencing. Flag all exam weight percentages as approximate ranges sourced from that blueprint. If your training data may be outdated relative to the current published blueprint, say so explicitly and instruct the user to verify against:
https://learn.microsoft.com/en-us/credentials/certifications/azure-administrator/

--- OUTPUT COMPLETENESS ---
Do not truncate, summarize, compress, or abbreviate any section of the output. Output the complete matrix in full regardless of length. Every testable skill in the AZ-104 blueprint must appear as a discrete skill entry. If your response is interrupted by a length limit, stop cleanly at the end of a complete skill entry — do not produce partial entries. The user will prompt "continue" to resume.

--- FORMAT ---
Output as a single, continuous, unbroken code block ready to save as az-104.md.

PART 1 — YAML FRONT MATTER (between --- delimiters):

  subject: "Azure Administrator"
  cert_target: "AZ-104"
  blueprint_reference: "[state the exact version or publication date of the Microsoft AZ-104 exam skills outline you are using]"
  matrix_version: "1.0.0"
  last_updated: 2026-02-18
  overall_level: 0.0  # User-managed. Do not calculate. Updated manually by user after sessions.

  # RATING SCALE REFERENCE
  # 0 = Unencountered — not yet exposed
  # 1 = Novice — rule-based, requires guidance, no situational judgment
  # 2 = Advanced Beginner — handles simple tasks alone, recognizes context-specific nuance
  # 3 = Competent — independent on most tasks, deliberate planning required
  # 4 = Proficient — holistic pattern recognition, handles complexity fluidly
  # 5 = Expert — intuitive mastery, analytic only in genuinely novel situations

  skills:
    [domain_key]:
      label: "[Official Microsoft exam domain name]"
      exam_weight: "[official % range, e.g., '20-25%']"  # Applies to all skills in this domain
      [topic_key]:
        label: "[Official sub-objective name]"
        [skill_key]:
          label: "[Discrete, testable skill name]"
          level: 0
          notes: null
          last_reviewed: null

PART 2 — MARKDOWN BODY:

## Blueprint Reference
State the exact Microsoft AZ-104 exam skills outline version or publication date being used.
If potentially outdated, flag explicitly.
Verify current objectives and weights at:
https://learn.microsoft.com/en-us/credentials/certifications/azure-administrator/

## Exam Domain Map
| Matrix Domain | Official Microsoft Exam Category | Exam Weight |
|--------------|----------------------------------|-------------|
[populate all 5 domains with official names and weight ranges]

## Competency Overview
A human-readable summary table of all domains, topics, and skills with current levels.
Format: | Domain | Topic | Skill | Level |

## Learning Progression Notes
Note any cases where the official exam objective order creates prerequisite gaps (e.g., Networking concepts that depend on identity/RBAC being understood first). Suggest supplemental sequencing where relevant without altering the matrix order. Flag hard prerequisite relationships between domains explicitly.

## Compact Session Header
A ready-to-paste block for briefing an AI model at the start of any AZ-104 study session:

  ## Learner Context — AZ-104 | [Date]
  ### Goal: Pass AZ-104 Microsoft Azure Administrator exam
  ### Weakest Areas: All domains at level 0 — update as study progresses
  ### Strongest Areas: None yet — update as levels are assigned
  ### Competency Snapshot:
  | Domain | Topic | Skill | Level |
  |--------|-------|-------|-------|
  [condensed view — top 20 rows prioritizing any non-zero skills; on first use show first 20 skills]
  ### Session Goal: [placeholder — fill in before each session]

## Session Log
| Date | Session Goal | Skills Reviewed | Levels Updated | Notes |
|------|-------------|-----------------|----------------|-------|
| 2026-02-18 | Initial matrix setup | — | — | Matrix generated at v1.0.0; all skills at level 0 |

---

COVERAGE REQUIREMENTS — every skill below must appear as a discrete entry. This list is a completeness guardrail, not an ordering instruction. Follow official objective order as specified above.

DOMAIN 1 — Manage Azure identities and governance:
- Microsoft Entra ID: tenant configuration, user accounts, bulk operations, guest users, licenses
- Microsoft Entra ID: groups (assigned vs dynamic), group-based licensing
- Microsoft Entra ID: roles (built-in vs custom), role assignments, administrative units
- Microsoft Entra ID: MFA configuration, self-service password reset (SSPR)
- Microsoft Entra ID: Conditional Access policies, named locations, sign-in risk
- Microsoft Entra ID: identity governance, access reviews, entitlement management (awareness level)
- Hybrid identity: Microsoft Entra Connect, password hash sync, pass-through authentication, federation awareness
- Azure subscriptions: management groups, subscription organization, transfer ownership
- Azure governance: Azure Policy, policy definitions, initiatives (policy sets), assignment scopes, remediation tasks
- Azure governance: RBAC — built-in roles, custom roles, role assignments at management group/subscription/resource group/resource scope
- Azure governance: resource locks (ReadOnly, Delete), lock inheritance behavior
- Azure governance: tags — applying, inheriting, enforcing via policy
- Azure governance: cost management — budgets, alerts, cost analysis, advisor recommendations
- Azure Resource Manager: resource groups, ARM template structure (parameters, variables, resources, outputs)
- Azure Resource Manager: Bicep basics — syntax, deployment commands, parameter files
- Azure Resource Manager: deployment scopes (resource group, subscription, management group, tenant)
- Azure CLI / PowerShell: authenticating, managing resources, scripting resource operations, Azure Cloud Shell

DOMAIN 2 — Implement and manage storage:
- Storage accounts: types (GPv2, BlobStorage, FileStorage), performance tiers (Standard/Premium), redundancy options (LRS, ZRS, GRS, GZRS, RA-GRS)
- Storage accounts: access tiers (Hot, Cool, Cold, Archive), lifecycle management policies
- Storage accounts: network access — firewalls, virtual network service endpoints, private endpoints
- Storage accounts: authorization — storage account keys, SAS tokens (service, account, user delegation), Azure AD / RBAC
- Blob storage: containers, blob types (block, append, page), versioning, soft delete, snapshots, immutability policies
- Azure Files: file shares, SMB vs NFS, share snapshots, Azure File Sync (sync groups, cloud tiering, registered servers)
- Storage tools: AzCopy (authentication, commands), Azure Storage Explorer, portal operations
- Azure Table storage and Queue storage: awareness-level understanding of use cases and basic operations

DOMAIN 3 — Deploy and manage Azure compute resources:
- Virtual machines: creation (portal, CLI, PowerShell, ARM/Bicep), VM sizes and families, disk types (OS, data, temp)
- Virtual machines: availability — availability sets (fault/update domains), availability zones, SLA implications
- Virtual machines: VM Scale Sets — manual and autoscale, scaling policies, upgrade policies
- Virtual machines: networking — NICs, public/private IP, DNS label, accelerated networking
- Virtual machines: storage — managed disks, disk caching, disk encryption (SSE, ADE), disk snapshots
- Virtual machines: extensions — custom script extension, Azure Monitor agent, DSC extension, run command
- Virtual machines: Azure Dedicated Hosts — use cases and configuration awareness
- Virtual machines: resizing, redeploying, capturing images, generalize with Sysprep/waagent
- Azure App Service: App Service plans (tiers, scaling), creating web apps, deployment methods (zip deploy, GitHub Actions, deployment slots)
- Azure App Service: deployment slots — swap operations, slot settings, traffic splitting
- Azure App Service: scaling — manual scale, autoscale rules, scale out vs scale up
- Azure App Service: configuration — app settings, connection strings, always on, HTTPS only, custom domains, TLS certificates
- Azure Container Instances (ACI): creating containers, container groups, environment variables, volume mounts, use case awareness
- Azure Kubernetes Service (AKS): cluster creation, node pools, kubectl basics, deploying workloads via manifests, networking and scaling awareness

DOMAIN 4 — Implement and manage virtual networking:
- Virtual networks: VNet creation, address space planning, subnet design, reserved addresses
- Virtual networks: network security groups — inbound/outbound rules, default rules, application security groups (ASGs)
- Virtual networks: VNet peering — local and global peering, gateway transit, peering limitations
- Virtual networks: routing — system routes, custom routes, user-defined routes (UDRs), route tables, BGP awareness
- Virtual networks: VPN Gateway — gateway SKUs, site-to-site VPN, point-to-site VPN, VNet-to-VNet, connection types (IKE)
- Virtual networks: ExpressRoute — circuit concepts, peering types, gateway SKUs, coexistence with VPN (awareness level)
- Virtual networks: Azure Bastion — deployment, SKUs, connecting to VMs without public IP
- Virtual networks: Azure DNS — public zones, record types (A, AAAA, CNAME, MX, TXT, NS, SOA), DNS delegation
- Virtual networks: private DNS zones — VNet links, autoregistration, resolution behavior
- Virtual networks: Azure Load Balancer — SKUs (Basic vs Standard), frontend IP, backend pool, health probes, load balancing rules, NAT rules
- Virtual networks: Azure Application Gateway — listeners, rules, backend pools, WAF awareness, URL routing awareness
- Virtual networks: Network Watcher — IP flow verify, next hop, connection troubleshoot, NSG flow logs, topology
- Virtual networks: NIC configuration — IP configurations, multiple NICs, IP forwarding

DOMAIN 5 — Monitor and maintain Azure resources:
- Azure Monitor: architecture overview, data types (metrics vs logs), data sources
- Azure Monitor: metrics — metric explorer, built-in metrics, diagnostic settings to route metrics
- Azure Monitor: Log Analytics workspaces — creating workspaces, connecting data sources, KQL basics (where, project, summarize, extend, join)
- Azure Monitor: alerts — metric alerts, log search alerts, activity log alerts, alert rules, action groups (email, SMS, webhook, ITSM, Logic App, Automation)
- Azure Monitor: diagnostic settings — enabling for resources, routing to Log Analytics / storage / Event Hub
- Azure Monitor: workbooks and dashboards — awareness of use cases
- Azure Backup: Recovery Services vaults, backup policies, VM backup configuration, on-demand backup, restore options (full VM, disk, file recovery)
- Azure Backup: Azure file share backup, SQL/SAP HANA in VM backup (awareness level)
- Azure Site Recovery: replication concepts, failover and failback, recovery plans (awareness level)
- Azure Advisor: recommendation categories, implementing recommendations
- Azure Service Health: service issues, planned maintenance, health alerts, health history
